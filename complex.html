<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<script type="text/javascript">
		function Complex(r, i){
			if(isNaN(r) || isNaN(i)){
				throw new TypeError();           //如果不都是数字，则抛出错误  
    }  
				this.r = r;
				this.i = i;//r为实步，i为虚部
			}
			
			this.mul = function(obj){
				return new Complex(this.r*that.r-this.i*that.i+this.r*that.i+this.i*that.r);
			}

			this.add = function(obj){
			    return new Complex(this.r+that.r,this.i+that.i);
				
			}
			this.neg = function(){
			    return new Complex()
			}

			this.mag = function(){
				return Math.sqrt(this.r*this.r + this.i*this.i);
			}
			this.equals = function(obj){
				return that != null &&                    //必须有定义且不为null  
				that.constructor === Complex &&           //并且必须是Complex实例  
				this.r === that.r && this.i === that.i;   //并且必须包含相同的值  
              };  
		
			this.toString = function(){
				 return "{" + this.r + "," + this.i + "}";
			}
			var p = new Complex(2, 4);
		document.write(p.toString());
	</script>

</script>
</body>
</html>